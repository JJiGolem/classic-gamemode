<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="theme-color" content="#000000" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <link rel="stylesheet" type="text/css" href="css/fonts.css" />
    <link rel="stylesheet" type="text/css" href="css/hud.css" />
    <link rel="stylesheet" type="text/css" href="css/prompt.css" />
    <link rel="stylesheet" type="text/css" href="css/notifications.css" />
    <link rel="stylesheet" type="text/css" href="css/offerDialog.css" />
    <link rel="stylesheet" type="text/css" href="css/infoTable.css" />
    <link rel="stylesheet" type="text/css" href="css/characterInfo.css" />
    <link rel="stylesheet" type="text/css" href="css/selectMenu.css" />
    <link rel="stylesheet" type="text/css" href="css/auth.css" />
    <link rel="stylesheet" type="text/css" href="css/loader.css" />
    <link rel="stylesheet" type="text/css" href="css/characterPass.css" />
    <link rel="stylesheet" type="text/css" href="css/carPass.css" />
    <link rel="stylesheet" type="text/css" href="css/driverLicense.css" />
    <link rel="stylesheet" type="text/css" href="css/speedometer.css" />
    <link rel="stylesheet" type="text/css" href="css/interactionMenu.css" />
    <link rel="stylesheet" type="text/css" href="build/css/styles.css">

    <script src="js/main.js"></script>

    <!-- development version, includes helpful console warnings -->
    <script src="js/vue-development.js"></script>
    <!-- production version, optimized for size and speed -->
    <!-- <script src="js/vue-production.js"></script> -->

    <title>[GUI] Classic Roleplay</title>
</head>

<body>
    <!-- ************************** VUE JS ************************** -->
    <!-- v-cloak в контейнерах VUE используется для того, что бы решить проблему мерцания UI при запуске -->
    <div v-cloak="v-cloak" id="hud" v-show="show">
        <div class="server-online" v-show="showOnline">
            <img class="logo" src="img/logo.png" />
            <p>Онлайн:
                {{ players }}
                /
                {{ maxPlayers }}</p>
        </div>
        <div class="money">
            <div class="cash">
                <img src="img/hud/cash.svg" />
                $
                {{ pretty(cash) }}
            </div>
            <div class="bank">
                <img src="img/hud/credit-card.svg" />
                $
                {{ pretty(bank) }}
            </div>
            <div class="time">{{ time }}</div>
        </div>
        <div class="voice">
            <img :src="(voice)? 'img/hud/voice-on.png' : 'img/hud/voice-off.png'" />
        </div>
        <div class="weather" v-bind:style="{left: leftWeather + 'px'}">
            <div class="region">{{ region }}</div>
            <div class="street">{{ street }}</div>
            <div class="temperature">{{ temperature }}
                C°</div>
            <div class="city">{{ city }}</div>
            <img :src="'img/weather/' + weather + '.svg'" />
        </div>
    </div>

    <div v-cloak="v-cloak" id="prompt" v-if="text">
        <div class="text" v-html="text"></div>
    </div>

    <div id="notifications" v-if="messages.length">
        <div :class="notif.type" v-for="notif in messages">
            <img :src="'img/notifs/' + notif.type + '.svg'" />
            <div v-cloak="v-cloak" class="message">
                <div class="header" v-if="notif.header">{{ notif.header }}</div>
                {{ notif.text }}
            </div>
        </div>
    </div>

    <div v-cloak id="offerDialog" v-if="dialog">
        <div>
            <div class="agree" @click="dialog.yes(); hide()">Y</div>
            <div class="content">
                <div class="header">Предложение</div>
                <div class="message">
                    {{ dialog.text }}
                </div>
                <div class="price" v-if="dialog.price">$
                    {{ pretty(dialog.price) }}</div>
            </div>
            <div class="cancel" @click="dialog.no(); hide()">N</div>
        </div>
    </div>

    <div v-cloak="v-cloak" id="infoTable" v-if="show && name">
        <div class="header">{{ tables[name].header }}</div>
        <div class="content">
            <div class="row" v-for="param in tables[name].params">
                <div class="param">
                    <div class="key">{{ param.key }}</div>
                    <div class="value" :class="{empty: param.value == 0, full: param.value == 100}">{{ prettyValue(param) }}</div>
                </div>
                <div class="progress" v-if="param.isProgress">
                    <div class="fill" :class="{full: param.value == 100}" :style="{width: param.value + '%'}"></div>
                </div>
            </div>
        </div>
    </div>

    <div v-cloak="v-cloak" id="characterInfo" v-if="show && characters.length">
        <div class="header">Статистика персонажа</div>
        <div class="content">
            <div class="name">{{ characters[i].name.split(' ')[0] }}<br />{{ characters[i].name.split(' ')[1] }}</div>
            <div class="money">
                <div class="cash">
                    <img src="img/hud/cash.svg" />
                    $
                    {{ pretty(characters[i].cash) }}
                </div>
                <div class="bank">
                    <img src="img/hud/credit-card.svg" />
                    $
                    {{ pretty(characters[i].bank) }}
                </div>
            </div>
            <table class="info">
                <tr>
                    <td>Игровой статус:
                        <div>{{ characters[i].status }}</div>
                    </td>
                    <td>Отыграно:
                        <div>{{ characters[i].hours }}
                            часов</div>
                    </td>
                </tr>
                <tr>
                    <td>Организация:
                        <div>{{ characters[i].faction }}</div>
                    </td>
                    <td>Профессия:
                        <div>{{ characters[i].job }}</div>
                    </td>
                </tr>
                <tr>
                    <td>Проживание:
                        <div>{{ characters[i].house }}</div>
                    </td>
                    <td>Бизнес:
                        <div>{{ characters[i].biz }}</div>
                    </td>
                </tr>
            </table>
            <div class="warns" v-show="characters[i].warns">
                <img src="img/characterInfo/warn.svg" />
                Предупреждений:
                {{ characters[i].warns }}
            </div>
        </div>
        <div class="createCharacter" @click="onClickCreateCharacter" v-show="showCreateCharacter">
            <div class="plus">+</div>
            <div class="text">Создать<br />персонажа</div>
        </div>
    </div>

    <div v-cloak="v-cloak" id="characterSelector" v-if="show">
        <div>
            <div class="arrow" @click="left" :class="{disabled: leftArrowDisabled()}">&lt;</div>
            <button @click="enter">Выбрать</button>
            <div class="arrow" @click="right" :class="{disabled: rightArrowDisabled()}">&gt;</div>
        </div>
    </div>

    <div v-cloak="v-cloak" id="selectMenu" :class="{inactive: loader}" v-if="show && menu">
        <div class="header">{{ menu.header }}</div>
        <div class="content">
            <div class="arrow arr-up" :class="{active: menu.j > 0}"></div>
            <div class="items">
                <div class="item" v-for="(item, index) in items" v-show="isItemShow(index)" :class="{selected: index == menu.i}">
                    <div class="name">{{ item.text }}</div>
                    <div class="value" v-if="item.values && valuesType(index) == 0 || valuesType(index) == 2">{{ item.values[item.i] }}</div>
                    <div class="value color-type" v-else-if="item.values && valuesType(index) == 1" :style="{background: item.values[item.i]}"></div>
                    <div class="value" v-else-if="item.values && valuesType(index) == 3">
                        <input :ref="item.text" type="text" v-model="item.values[0]" :readonly="menu.i != index" />
                    </div>
                </div>
            </div>
            <div class="arrow arr-down" :class="{active: menu.j < menu.items.length - maxItems}"></div>
        </div>
        <div v-if="valuesType(menu.i) == 0" class="selector" v-show="menu.items[menu.i].values">
            <div v-for="value in values">{{ value }}</div>
        </div>
        <div v-else-if="valuesType(menu.i) == 1" class="selector select-color">
            <div class="arrow arr-left" :class="{active: menu.items[menu.i].j > 0}"></div>
            <div class="color-type" v-for="(value, index) in items[menu.i].values" v-show="isColorValueShow(index)" :class="{active: index == menu.items[menu.i].i}" :style="{background: value}"></div>
            <div class="arrow arr-right" :class="{active: menu.items[menu.i].j < menu.items[menu.i].values.length - maxColorValues}"></div>
        </div>
        <div v-else-if="valuesType(menu.i) == 2" class="selector select-number">
            <div>{{ menu.items[menu.i].min }}</div>
            <div class="progress">
                <div class="fill" :style="{left: leftNumberType}"></div>
            </div>
            <div>{{ menu.items[menu.i].max }}</div>
        </div>
        <div class="notification" v-if="notification">
            {{ notification }}
        </div>
        <div v-cloak="v-cloak" class="loader lds-css ng-scope" v-if="loader">
            <div class="lds-rolling">
                <div></div>
            </div>
        </div>
    </div>

    <div v-cloak="v-cloak" id="auth" v-if="show">
        <div class="content">
            <center>
                <img class="logo" src="img/logo.png" />
            </center>
            <div class="header">{{ header }}</div>
            <div class="authAccount" v-if="form == 0">
                <label>Логин или Email
                    <input type="text" v-model="loginOrEmail" v-on:keyup.enter="authAccountHandler" autofocus />
                    <img class="ic-login" src="img/auth/login.png" />
                </label>
                <label>Пароль
                    <input type="password" v-model="password" v-on:keyup.enter="authAccountHandler" />
                    <img class="ic-password" src="img/auth/password.png" />
                </label>
                <a class="recoveryAccountBtn" @click="form = 2">Забыли пароль?</a>
                <a class="regAccountBtn" @click="form = 1">Создать аккаунт</a>
                <button @click="authAccountHandler">Далее</button>
            </div>
            <div class="regAccount" v-if="form == 1">
                <label>Логин
                    <input type="text" v-model="login" v-on:keyup.enter="regAccountHandler" autofocus />
                    <img class="ic-login" src="img/auth/login.png" />
                </label>
                <label>Email
                    <input type="text" v-model="email" v-on:keyup.enter="regAccountHandler" />
                    <img class="ic-email" src="img/auth/email.png" />
                </label>
                <label>Пароль
                    <input type="password" v-model="password" v-on:keyup.enter="regAccountHandler" />
                    <img class="ic-password" src="img/auth/password.png" />
                </label>
                <label>Повторите пароль
                    <input type="password" v-model="password2" v-on:keyup.enter="regAccountHandler" />
                    <img class="ic-password2" src="img/auth/password.png" />
                </label>
                <a class="authAccountBtn" @click="form = 0">Войти в аккаунт</a>
                <button @click="regAccountHandler(-1)">Далее</button>
            </div>
            <div class="recoveryAccount" v-if="form == 2">
                <label>Логин или Email
                    <input type="text" v-model="loginOrEmail" v-on:keyup.enter="recoveryAccountHandler" autofocus />
                    <img class="ic-login" src="img/auth/login.png" />
                </label>
                <label style="display: none">Код подтверждения
                    <input type="text" v-model="code" v-on:keyup.enter="recoveryAccountHandler" />
                    <img class="ic-password" src="img/auth/password.png" />
                </label>
                <label style="display: none">Пароль
                    <input type="text" v-model="password" v-on:keyup.enter="recoveryAccountHandler" />
                    <!-- <img class="ic-password" src="img/auth/password.png" /> -->
                </label>
                <label style="display: none">Повторите пароль
                    <input type="text" v-model="password2" v-on:keyup.enter="recoveryAccountHandler" />
                    <!-- <img class="ic-password" src="img/auth/password.png" /> -->
                </label>
                <a class="authAccountBtn" @click="form = 0">Войти в аккаунт</a>
                <button @click="recoveryAccountHandler">Далее</button>
            </div>
            <div class="confirmEmail" v-if="form == 3">
                <label>Код подтверждения
                    <input type="text" v-model="code" autofocus />
                    <img class="ic-password" src="img/auth/password.png" />
                </label>
                <a class="confirmEmailBtn" onclick="regAccountHandler()">Пропустить</a>
                <button>Далее</button>
            </div>

            <div class="input-prompt" v-if="prompt">{{ prompt }}</div>

        </div>
    </div>

    <div v-cloak="v-cloak" id="loader" class="lds-css ng-scope" v-if="show">
        <div class="lds-rolling">
            <div></div>
        </div>
    </div>

    <div v-cloak="v-cloak" id="characterPass" v-if="show">
        <span class="close" @click="close()">x</span>
        <div class="header">{{ header }}</div>
        <div class="content">
            <div class="infoA">
                <div class="label">Имя</div>
                <div class="value">{{ fullname }}</div>
                <div class="label">Гражданство</div>
                <div class="value">UNITED STATED OF AMERICA</div>
                <div class="label">Дата получения</div>
                <div class="value">{{ regDate }}</div>
            </div>
            <div class="infoB">
                <div class="label">Пол</div>
                <div class="value">{{ prettySex }}</div>
                <div class="label">Выдан</div>
                <div class="value">United States Department of State</div>
            </div>
        </div>
        <div class="number">{{ prettyNumber }}</div>
        <div class="footer">P&lt;USA{{ fName }}&lt;&lt;{{ sName }}&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;<br />
            Numpass&lt;&lt;{{ prettyNumber }}
        </div>
    </div>

    <div v-cloak="v-cloak" id="carPass" v-if="show">
        <span class="close" @click="close()">x</span>
        <div class="header">{{ header }}</div>
        <div class="content">
            <div class="infoA">
                <div class="label">Идентификатор</div>
                <div class="value">{{ prettyId }}</div>
                <div class="label">Название</div>
                <div class="value">{{ name }}</div>
                <div class="label">Тип Т/С</div>
                <div class="value">{{ vehType }}</div>
                <div class="label">Дата регистрации</div>
                <div class="value">{{ regDate }}</div>
                <div class="label">Гос. стоимость</div>
                <div class="value">${{ prettyPrice }}</div>
            </div>
            <div class="infoB">
                <div class="label">Владельцев</div>
                <div class="value">{{ owners }}</div>
                <div class="label">Рег. номер</div>
                <div class="value">{{ number }}</div>
            </div>
        </div>
        <div class="number">{{ number }}</div>
    </div>

    <div v-cloak="v-cloak" id="driverLicense" v-if="show">
        <span class="close" @click="close()">x</span>
        <div class="header">{{ header }}</div>
        <div class="content">
            <div class="infoA">
                <h3>Driver License</h3>
                <div class="label">ID Лицензии</div>
                <div class="value">{{ prettyNumber }}</div>
                <div class="label">Имя</div>
                <div class="value">{{ name }}</div>
                <div class="label">Пол</div>
                <div class="value">{{ prettySex }}</div>
            </div>
            <div class="infoB">
                <div class="category" :class="{active: categories[index]}" v-for="(cat, index) in catNames">
                    <div class="label">{{ cat }}</div>
                    <img :src="imgSrc(index)" />
                </div>
            </div>
        </div>
    </div>

    <div v-cloak id="speedometer" :class="{ noActive: !isActive }" v-if="show">
        <svg class="scale" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="766.625" height="387.906" viewBox="0 0 766.625 387.906">
            <path v-for="path in svgScalePaths" :class="{ fill: path.isFill }" :d="path.d" transform="translate(-116.688 -293.5)" />
        </svg>
        <div class="content">
            <div class="speed">
                <div class="value">{{ compSpeed }}</div>
                <div class="unit">км/ч</div>
            </div>
            <div class="headlights">
                <svg :class=" { white: (headlights && headlights != 3), yellow: (headlights == 3) }" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 492.031 492.031" width="512" height="512">
                    <path d="M157.551,88.436c-87.313,0-157.881,70.853-157.55,158.2c0.33,86.55,71.85,156.96,159.44,156.96h73.83   c39.62-100.7,39.62-214.46,0-315.16H157.551z" />
                    <path d="M265.371,88.436c18.48,50.56,27.83,103.46,27.83,157.58s-9.35,107.02-27.83,157.58h36.339   c6.278,0,11.922-3.898,14.075-9.795c34.668-94.968,34.668-200.602,0-295.57c-2.153-5.897-7.797-9.795-14.075-9.795H265.371z" />

                    <path v-if="headlights > 1" v-for="path in svgLightPaths" :d="path.d" :style="(headlights == 2) ? path : ''" />
                </svg>
            </div>
            <div class="lock">
                <svg :class="svgLockPaths[lock].class" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 490.1 490.1">
                    <path :d="svgLockPaths[lock].d" />
                    <path d="M245.05,416.3c11.4,0,20.8-9.3,20.8-20.8v-54c0-11.4-9.3-20.8-20.8-20.8c-11.5,0-20.8,9.3-20.8,20.8v54C224.25,407,233.65,416.3,245.05,416.3z" />
                </svg>
            </div>
            <div class="fuel">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 384 384">
                    <defs>
                        <linearGradient id="fuel-gradient" x2="0" y2="1">
                            <stop :offset="perFuel + '%'" style="stop-color: white"></stop>
                            <stop :offset="perFuel + '%'" style="stop-color: #e1a030"></stop>
                        </linearGradient>
                    </defs>
                    <path fill="url(#fuel-gradient)" :d="svgFuelPath" />
                </svg>
            </div>
            <div class="fuel-unit">{{ fuel }} л</div>
            <div class="danger">
                <svg :class="{ red: danger }" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512">
                    <path :d="svgDangerPath" />
                </svg>
            </div>
            <div class="left-arrow">
                <svg :class="{ green: leftArrow }" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="0.736in" height="0.5in" viewBox="0 0 51.657 35.688">
                    <path d="M52.581,9.487 L25.498,9.487 L25.498,0.248 L0.933,18.099 L25.498,35.949 L25.498,26.710 L52.581,26.710 L52.581,9.487 Z" />
                </svg>
            </div>
            <div class="right-arrow">
                <svg :class="{ green: rightArrow }" xmlns="http://www.w3.org/2000/svg" width="51.657" height="35.688" viewBox="0 0 51.657 35.688">
                    <path d="M683.418,679.71H710.5v9.239l24.565-17.85L710.5,653.248v9.24H683.418V679.71Z" transform="translate(-683.406 -653.25)" />
                </svg>
            </div>
            <div class="bottom-panel">
                <div class="road-perspective">
                    <svg class="white" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 34.2 34.2">
                        <path d="M25.243,0h-5.869l0.332,5.4h-4.984L15.096,0H9.228L0.725,34.2h12l0.607-8.774h7.604l0.539,8.774h12L25.243,0zM13.675,20.475l0.702-10.125h5.631l0.621,10.125H13.675z" />
                    </svg>
                </div>
                <div class="mileage">{{ mileage }} км</div>

            </div>
        </div>
    </div>

    <div v-cloak id="interactionMenu" v-if="show" v-bind:style="{left: left + 'vw'}">
        <div class="interaction_item" v-for="(item, index) in menu.items" @click="onClick(index)">
            <div class="icon"><img :src="imgSrc(index)" />
            </div>
            <div class="text">{{ item.text }}</div>
        </div>
    </div>

    <link rel="stylesheet" type="text/css" href="css/carSpecifications.css" />
    <div v-cloak="v-cloak" id="carSpecifications" v-if="show">
        <div class="header">Характеристики</div>
        <div class="body">
            <div class="record" v-for="record in body">
                <div class="left">{{ record.header }}</div>
                <div class="right">{{ record.value }} {{ record.unit }}</div>
                <div class="line"></div>
            </div>
        </div>
        <div class="footer">${{ splitPrice }}</div>
    </div>
    <script src="js/carSpecifications.js"></script>


    <!-- ------------------------ REACT ------------------------------ -->
    <script async src="build/js/build.js" type="text/javascript"></script>
    <div id="root"></div>
    <!-- ------------------------------------------------------------- -->
    <script src="js/hud.js"></script>
    <script src="js/prompt.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/offerDialog.js"></script>
    <script src="js/infoTable.js"></script>
    <script src="js/characterInfo.js"></script>
    <script src="js/selectMenu.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/loader.js"></script>
    <script src="js/characterPass.js"></script>
    <script src="js/carPass.js"></script>
    <script src="js/driverLicense.js"></script>
    <script src="js/speedometer.js"></script>
    <script src="js/interactionMenu.js"></script>
</body>

</html>

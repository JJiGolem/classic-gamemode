import React from 'react';
import {connect} from 'react-redux';
import { setApp, addApp } from '../../../actions/phone.js';
import HouseMenager from './HouseMenager.jsx';

class ConfirmSell extends React.Component {
    constructor(props) {
        super(props)
        this.state = {
        }
    }

    back(event) {
        event.preventDefault();
        mp.trigger('sellHouseStop.client');
        this.props.setApp(<HouseMenager />);
    }

    getContent() {
        const { house } = this.props;
        return(
            <div style={{backgroundColor: 'white', height: '365px'}} ref={(form) => {this.refForm = form}}>
                <div className='headHousePhone'>
                    <span className='headSpanHouseApp'>Дом {house.name}</span><br></br>
                    <span style={{color: 'yellow'}}>{house.area}</span>
                </div>

                <div style={{width: '100%', textAlign: 'center', fontWeight: 'bold', fontSize: '14px', margin: '5px 0 5px 0'}}>Продажа на руки</div>
                
                <div className='blockSellHouseApp'>
                    <svg xmlns="http://www.w3.org/2000/svg" width="91.457" height="67.002" viewBox="0 0 91.457 67.002">
                        <path id="Path_130" data-name="Path 130" d="M90.609,68.612a1.526,1.526,0,0,0-1.6.156L64.227,87.716a3.053,3.053,0,0,0-.76,3.974l-3.91,1.066-5.706-2.429a1.514,1.514,0,0,0-.31-.1c-5.474-1.046-8.312-.037-9.778,1.087H28.186a3.059,3.059,0,0,0-.957-3.6L2.45,68.768A1.524,1.524,0,0,0,0,69.978v36.583a1.523,1.523,0,0,0,.768,1.323l9.435,5.39a3.022,3.022,0,0,0,1.506.4,3.059,3.059,0,0,0,2.086-.83l1.768,1.413a4.537,4.537,0,0,0,3.2,7.319c.13.012.258.016.385.016a4.545,4.545,0,0,0,.7-.061,5.293,5.293,0,0,0,1.229,2.954l0,0a5.3,5.3,0,0,0,3.631,1.868c.15.013.3.019.451.019.023,0,.045-.006.068-.006a4.492,4.492,0,0,0,1.05,2.7,4.561,4.561,0,0,0,3.485,1.611,4.493,4.493,0,0,0,1.562-.283,4.5,4.5,0,0,0,3.98,3.274c.13.012.258.016.385.016a4.43,4.43,0,0,0,2.87-1.033l2.39-1.847,5.629,3.761a5.31,5.31,0,0,0,2.94.887,5.422,5.422,0,0,0,1.069-.106,5.309,5.309,0,0,0,4.247-4.686,5.256,5.256,0,0,0,6.775-4.625,5.305,5.305,0,0,0,6.9-5.916,5.251,5.251,0,0,0,3.76-2.285,5.346,5.346,0,0,0,.7-4.355l3.006-3,1.227,1.84a3.053,3.053,0,0,0,4.05.957l9.435-5.39a1.523,1.523,0,0,0,.768-1.323V69.978A1.524,1.524,0,0,0,90.609,68.612ZM3.049,105.677V73.063L20.067,86.076,6.108,107.425Zm8.666,4.951-2.956-1.689L22.494,87.932l2.883,2.2Zm8.387,7.565a1.435,1.435,0,0,1-1.087.347,1.494,1.494,0,0,1-.893-2.581l3.812-2.947a1.477,1.477,0,0,1,.962-.353q.062,0,.125,0a1.495,1.495,0,0,1,.893,2.583Zm4.86,5.127a2.287,2.287,0,0,1-1.341-3.98l4.8-3.712a2.287,2.287,0,0,1,3.757,1.934,2.253,2.253,0,0,1-.712,1.477l-1.306,1.019-3.532,2.73A2.261,2.261,0,0,1,24.962,123.319Zm7.785,2.362,0,0-2.034,1.588a1.489,1.489,0,0,1-2.1-.174h0a1.474,1.474,0,0,1-.348-1.087,1.453,1.453,0,0,1,.475-.977l3.563-2.781,1.051-.812c.012-.01.019-.022.031-.032l1.076-.84a1.475,1.475,0,0,1,.96-.354,1.248,1.248,0,0,1,.126.006,1.494,1.494,0,0,1,.889,2.586l-3.566,2.783Zm7.709,1.657-3.812,2.947a1.417,1.417,0,0,1-1.087.347,1.494,1.494,0,0,1-.894-2.58l.07-.054,3.744-2.894a1.493,1.493,0,0,1,1.98,2.234Zm29.273-11.19a2.3,2.3,0,0,1-3.142.655l-.012-.007-10.011-6.919a1.524,1.524,0,1,0-1.733,2.507l9.687,6.7,0,0a2.275,2.275,0,0,1-.816,4.128,2.248,2.248,0,0,1-1.7-.325l-10.018-6.913a1.525,1.525,0,0,0-1.733,2.51l7.317,5.048,0,0a2.424,2.424,0,0,1,.658,3.275,2.279,2.279,0,0,1-3.133.662l-2.7-1.913h0l-2.747-1.95a1.525,1.525,0,0,0-1.766,2.486L50.72,128.1a4.354,4.354,0,0,1,.388.354,2.292,2.292,0,0,1-2.84,3.575l-5.021-3.355a4.513,4.513,0,0,0-3.309-6.94,4.5,4.5,0,0,0-4.145-4.551,4.353,4.353,0,0,0-.587,0,5.3,5.3,0,0,0-7.988-4.42,4.534,4.534,0,0,0-7.2-2.125l-2.082,1.609-2.374-1.9L26.22,94.367H39.6a4.387,4.387,0,0,0-1.423,4.079A4.342,4.342,0,0,0,41.8,102a14.958,14.958,0,0,0,8.287-1.194l3.887,2.473a1.522,1.522,0,0,0,.274.123l14.86,9.57a2.488,2.488,0,0,1,.723.77c.008.018.016.034.025.052A2.307,2.307,0,0,1,69.729,116.149Zm1.56-5.294a5.375,5.375,0,0,0-.513-.438L55.7,100.707a1.448,1.448,0,0,0-.215-.084L51,97.771a1.526,1.526,0,0,0-1.576-.037A12.071,12.071,0,0,1,42.3,98.989a1.284,1.284,0,0,1-1.118-1.075,1.374,1.374,0,0,1,.715-1.474,17.565,17.565,0,0,0,3.2-2.142,1.026,1.026,0,0,0,.255-.322,1.2,1.2,0,0,1,.161-.165c.447-.383,2.288-1.542,7.3-.615l6.041,2.572a1.492,1.492,0,0,0,1,.068l5.387-1.469,9.018,13.523Zm8.454-.227L66.079,90.138l2.884-2.206L82.7,108.939Zm8.666-4.951-3.059,1.748L71.391,86.076,88.409,73.062v32.615Z" transform="translate(0 -68.454)" fill="#313539"/>
                    </svg>
                    <div style={{textAlign: 'center', fontSize: '14px', fontWeight: 'bold', margitTop: '8px'}}>Предложение отправлено</div>
                    <div style={{textAlign: 'center', fontWeight: 'bold', marginTop: 10, fontSize: '14px'}}>Покупатель: {this.props.nick}</div>
                    <div style={{textAlign: 'center', fontSize: '14px', fontWeight: 'bold'}}>Сумма: <span style={{color: 'green', fontWeight: 'bold'}}>${this.props.price}</span></div>
               </div>

                <button id='idButHouseApp' onClick={this.back.bind(this)} style={{marginTop: '10px'}}>
                    <div style={{display: 'inline-block', width: '10%'}}>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16.37" height="16.369" viewBox="0 0 16.37 16.369" style={{marginLeft: '5px'}}>
                            <path id="Path_172" data-name="Path 172" d="M9.632,8.186,16.07,1.748A1.024,1.024,0,1,0,14.622.3L8.185,6.738,1.747.3A1.024,1.024,0,1,0,.3,1.748L6.737,8.186.3,14.623A1.023,1.023,0,1,0,1.747,16.07L8.185,9.633l6.437,6.437a1.024,1.024,0,0,0,1.448-1.448Z" transform="translate(0 -0.001)" fill="#f90040"/>
                        </svg>
                    </div>
                    <div style={{display: 'inline-block', width: '90%', textAlign: 'center'}}>
                        Отменить
                    </div>
                </button>
            </div>
        )
    }

    render() {   
        return(
            <div>
                {this.getContent()}
            </div>
        )
    }
}

const mapStateToProps = state => ({
    ...state,
    house: state.phoneInfo.houses[0]
})

const mapDispathToProps = dispatch => ({
    setApp: app => dispatch(setApp(app)),
    addApp: app => dispatch(addApp(app))
})

export default connect(mapStateToProps, mapDispathToProps)(ConfirmSell)